---
title: MCP å·¥å…·é›†æˆ
description: é›†æˆ Model Context Protocol æœåŠ¡å™¨ï¼Œæ‰©å±• Agent å·¥å…·èƒ½åŠ›
navigation:
  icon: i-lucide-plug
---

# MCP å·¥å…·é›†æˆç¤ºä¾‹

[Model Context Protocol (MCP)](https://modelcontextprotocol.io) æ˜¯ä¸€ç§æ ‡å‡†åè®®ï¼Œè®© Agent èƒ½å¤Ÿè¿æ¥åˆ°å¤–éƒ¨å·¥å…·æœåŠ¡å™¨ã€‚AgentSDK æä¾›äº†å®Œæ•´çš„ MCP é›†æˆæ”¯æŒã€‚

[æŸ¥çœ‹å®Œæ•´ä»£ç  â†’](https://github.com/wordflowlab/agentsdk/blob/main/examples/mcp/main.go)

## ğŸ¯ MCP ä¼˜åŠ¿

**ä¸ºä»€ä¹ˆä½¿ç”¨ MCPï¼Ÿ**

| ç‰¹æ€§ | å†…ç½®å·¥å…· | MCP å·¥å…· |
|------|---------|----------|
| æ‰©å±•æ€§ | éœ€è¦ä¿®æ”¹ä»£ç  | åŠ¨æ€æ·»åŠ  |
| ç»´æŠ¤æ€§ | SDK å†…ç»´æŠ¤ | ç‹¬ç«‹ç»´æŠ¤ |
| å¤ç”¨æ€§ | ç»‘å®šåˆ° SDK | è·¨å¹³å°å…±äº« |
| éƒ¨ç½² | ç¼–è¯‘åˆ°åº”ç”¨ | ç‹¬ç«‹éƒ¨ç½² |
| æ›´æ–° | éœ€è¦é‡æ–°éƒ¨ç½² | çƒ­æ›´æ–° |

**é€‚ç”¨åœºæ™¯ï¼š**
- ğŸ”Œ è¿æ¥ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆæ•°æ®åº“ã€APIï¼‰
- ğŸŒ ä½¿ç”¨ç¤¾åŒºå·¥å…·æœåŠ¡å™¨
- ğŸ”„ åŠ¨æ€æ·»åŠ /ç§»é™¤å·¥å…·
- ğŸ¢ ä¼ä¸šå†…éƒ¨å·¥å…·å…±äº«

## ğŸ—ï¸ MCP æ¶æ„

```mermaid
graph TB
    subgraph AgentSDK
        Agent[Agent]
        Registry[Tool Registry]
        MCPManager[MCP Manager]
    end

    subgraph MCP Ecosystem
        MCP1[MCP Server 1<br/>æ•°æ®åº“å·¥å…·]
        MCP2[MCP Server 2<br/>API å·¥å…·]
        MCP3[MCP Server N<br/>è‡ªå®šä¹‰å·¥å…·]
    end

    Agent --> Registry
    Registry --> MCPManager
    MCPManager -->|HTTP/JSON-RPC| MCP1
    MCPManager -->|HTTP/JSON-RPC| MCP2
    MCPManager -->|HTTP/JSON-RPC| MCP3

    MCP1 -->|å·¥å…·åˆ—è¡¨| MCPManager
    MCP2 -->|å·¥å…·åˆ—è¡¨| MCPManager
    MCP3 -->|å·¥å…·åˆ—è¡¨| MCPManager

    style Agent fill:#10b981
    style Registry fill:#3b82f6
    style MCPManager fill:#8b5cf6
    style MCP1 fill:#f59e0b
    style MCP2 fill:#f59e0b
    style MCP3 fill:#f59e0b
```

### å·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant Agent
    participant MCPManager
    participant MCPServer
    participant ToolRegistry

    Note over Agent,ToolRegistry: 1. åˆå§‹åŒ–é˜¶æ®µ

    MCPManager->>MCPServer: è¿æ¥ (Connect)
    MCPServer->>MCPManager: å·¥å…·åˆ—è¡¨ (tools/list)
    MCPManager->>ToolRegistry: æ³¨å†Œå·¥å…· (RegisterTools)

    Note over Agent,ToolRegistry: 2. æ‰§è¡Œé˜¶æ®µ

    Agent->>Agent: Chat("è®¡ç®— 2+2")
    Agent->>ToolRegistry: GetTool("calculator")
    ToolRegistry->>Agent: MCPToolAdapter
    Agent->>MCPManager: Execute(2+2)
    MCPManager->>MCPServer: tools/call
    MCPServer->>MCPManager: {"result": 4}
    MCPManager->>Agent: è¿”å›ç»“æœ
    Agent->>Agent: ç”Ÿæˆå“åº”
```

## ğŸ“‹ å®Œæ•´ç¤ºä¾‹

### 1. åˆ›å»º MCP Manager

```go
package main

import (
    "context"
    "fmt"
    "log"
    "os"

    "github.com/wordflowlab/agentsdk/pkg/agent"
    "github.com/wordflowlab/agentsdk/pkg/tools"
    "github.com/wordflowlab/agentsdk/pkg/tools/builtin"
    "github.com/wordflowlab/agentsdk/pkg/tools/mcp"
    "github.com/wordflowlab/agentsdk/pkg/types"
)

func main() {
    ctx := context.Background()

    // 1. åˆ›å»ºå·¥å…·æ³¨å†Œè¡¨
    toolRegistry := tools.NewRegistry()

    // æ³¨å†Œå†…ç½®å·¥å…·
    builtin.RegisterAll(toolRegistry)

    // 2. åˆ›å»º MCP Manager
    mcpManager := mcp.NewMCPManager(toolRegistry)

    // 3. æ·»åŠ  MCP Server
    server, err := mcpManager.AddServer(&mcp.MCPServerConfig{
        ServerID:        "my-tools",
        Endpoint:        os.Getenv("MCP_ENDPOINT"),
        AccessKeyID:     os.Getenv("MCP_ACCESS_KEY"),
        AccessKeySecret: os.Getenv("MCP_SECRET_KEY"),
    })
    if err != nil {
        log.Fatalf("Failed to add MCP server: %v", err)
    }

    // 4. è¿æ¥å¹¶æ³¨å†Œå·¥å…·
    fmt.Println("Connecting to MCP Server...")
    err = mcpManager.ConnectServer(ctx, "my-tools")
    if err != nil {
        log.Fatalf("Failed to connect to MCP server: %v", err)
    }

    // 5. æ˜¾ç¤ºå·²æ³¨å†Œçš„å·¥å…·
    tools := server.ListTools()
    fmt.Printf("âœ… Connected! Registered %d tools:\n", len(tools))
    for _, tool := range tools {
        fmt.Printf("  - %s: %s\n", tool.Name, tool.Description)
    }

    // 6. åˆ›å»º Agentï¼ˆå¯ä»¥ä½¿ç”¨ MCP å·¥å…·ï¼‰
    createAgentWithMCPTools(ctx, toolRegistry, mcpManager)
}
```

### 2. é…ç½® Agent ä½¿ç”¨ MCP å·¥å…·

```go
func createAgentWithMCPTools(ctx context.Context, toolRegistry *tools.Registry, mcpManager *mcp.MCPManager) {
    // åˆ›å»ºå…¶ä»–ä¾èµ–...
    deps := createDependencies(toolRegistry)

    // æ³¨å†Œæ¨¡æ¿ï¼Œå£°æ˜å¯ç”¨å·¥å…·ï¼ˆåŒ…æ‹¬ MCP å·¥å…·ï¼‰
    templateRegistry := agent.NewTemplateRegistry()
    templateRegistry.Register(&types.AgentTemplateDefinition{
        ID:    "mcp-assistant",
        Model: "claude-sonnet-4-5",
        SystemPrompt: "You are an assistant with access to both built-in and MCP tools.",
        Tools: []interface{}{
            // å†…ç½®å·¥å…·
            "Read",
            "Write",
            "Bash",

            // MCP å·¥å…·ï¼ˆæ ¼å¼: {server_id}:{tool_name}ï¼‰
            "my-tools:calculator",
            "my-tools:database_query",
            "my-tools:send_email",
        },
    })

    deps.TemplateRegistry = templateRegistry

    // åˆ›å»º Agent
    config := &types.AgentConfig{
        TemplateID: "mcp-assistant",
        ModelConfig: &types.ModelConfig{
            Provider: "anthropic",
            Model:    "claude-sonnet-4-5",
            APIKey:   os.Getenv("ANTHROPIC_API_KEY"),
        },
        Sandbox: &types.SandboxConfig{
            Kind:    types.SandboxKindLocal,
            WorkDir: "./workspace",
        },
    }

    ag, err := agent.Create(ctx, config, deps)
    if err != nil {
        log.Fatalf("Failed to create agent: %v", err)
    }
    defer ag.Close()

    // æµ‹è¯• MCP å·¥å…·
    testMCPTools(ctx, ag)
}
```

### 3. ä½¿ç”¨ MCP å·¥å…·

```go
func testMCPTools(ctx context.Context, ag *agent.Agent) {
    fmt.Println("\n=== æµ‹è¯• MCP å·¥å…· ===\n")

    // æµ‹è¯• 1: ä½¿ç”¨ Calculator
    fmt.Println("--- æµ‹è¯• 1: Calculator ---")
    result, err := ag.Chat(ctx, "è¯·è®¡ç®— 123 + 456")
    if err != nil {
        log.Printf("Chat failed: %v", err)
    } else {
        fmt.Printf("ç»“æœ: %s\n\n", result.Text)
    }

    // æµ‹è¯• 2: æ•°æ®åº“æŸ¥è¯¢
    fmt.Println("--- æµ‹è¯• 2: Database Query ---")
    result, err = ag.Chat(ctx, "è¯·æŸ¥è¯¢ç”¨æˆ·è¡¨ä¸­ ID ä¸º 1 çš„ç”¨æˆ·ä¿¡æ¯")
    if err != nil {
        log.Printf("Chat failed: %v", err)
    } else {
        fmt.Printf("ç»“æœ: %s\n\n", result.Text)
    }

    // æµ‹è¯• 3: ç»„åˆå†…ç½®å·¥å…·å’Œ MCP å·¥å…·
    fmt.Println("--- æµ‹è¯• 3: ç»„åˆå·¥å…· ---")
    result, err = ag.Chat(ctx, "è¯·æŸ¥è¯¢æ•°æ®åº“è·å–ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶ä¿å­˜åˆ° users.json æ–‡ä»¶")
    if err != nil {
        log.Printf("Chat failed: %v", err)
    } else {
        fmt.Printf("ç»“æœ: %s\n\n", result.Text)
    }
}
```

## ğŸ› ï¸ MCP Manager API

### åŸºæœ¬æ“ä½œ

```go
// åˆ›å»º Manager
mcpManager := mcp.NewMCPManager(toolRegistry)

// æ·»åŠ  Server
server, err := mcpManager.AddServer(&mcp.MCPServerConfig{
    ServerID:        "my-server",
    Endpoint:        "http://localhost:8080/mcp",
    AccessKeyID:     "your-key-id",
    AccessKeySecret: "your-key-secret",
})

// è¿æ¥å•ä¸ª Server
err = mcpManager.ConnectServer(ctx, "my-server")

// è¿æ¥æ‰€æœ‰ Server
err = mcpManager.ConnectAll(ctx)

// è·å– Server
server := mcpManager.GetServer("my-server")

// åˆ—å‡ºæ‰€æœ‰ Server ID
serverIDs := mcpManager.ListServers()

// ç§»é™¤ Server
err = mcpManager.RemoveServer("my-server")

// è·å–ç»Ÿè®¡ä¿¡æ¯
serverCount := mcpManager.GetServerCount()
totalTools := mcpManager.GetTotalToolCount()
```

### Server æ“ä½œ

```go
// è·å– Server ä¿¡æ¯
serverID := server.GetServerID()
toolCount := server.GetToolCount()

// åˆ—å‡ºå·¥å…·
tools := server.ListTools()
for _, tool := range tools {
    fmt.Printf("%s: %s\n", tool.Name, tool.Description)
}

// è·å–åº•å±‚ MCP å®¢æˆ·ç«¯
client := server.GetClient()
```

## ğŸŒ åˆ›å»ºç®€å•çš„ MCP Server

å¦‚æœä½ æƒ³æµ‹è¯• MCP åŠŸèƒ½ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ MCP Serverï¼š

### Python å®ç°

```python
# simple_mcp_server.py
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/mcp', methods=['POST'])
def mcp_handler():
    req = request.json
    method = req.get('method')

    # åˆ—å‡ºå·¥å…·
    if method == 'tools/list':
        return jsonify({
            'jsonrpc': '2.0',
            'id': req['id'],
            'result': {
                'tools': [
                    {
                        'name': 'calculator',
                        'description': 'Simple calculator',
                        'inputSchema': {
                            'type': 'object',
                            'properties': {
                                'operation': {
                                    'type': 'string',
                                    'enum': ['add', 'subtract', 'multiply', 'divide']
                                },
                                'a': {'type': 'number'},
                                'b': {'type': 'number'}
                            },
                            'required': ['operation', 'a', 'b']
                        }
                    },
                    {
                        'name': 'echo',
                        'description': 'Echo back the input',
                        'inputSchema': {
                            'type': 'object',
                            'properties': {
                                'message': {'type': 'string'}
                            },
                            'required': ['message']
                        }
                    }
                ]
            }
        })

    # è°ƒç”¨å·¥å…·
    elif method == 'tools/call':
        tool_name = req['params']['name']
        args = req['params'].get('arguments', {})

        if tool_name == 'calculator':
            a = args['a']
            b = args['b']
            op = args['operation']

            if op == 'add':
                result = a + b
            elif op == 'subtract':
                result = a - b
            elif op == 'multiply':
                result = a * b
            elif op == 'divide':
                result = a / b if b != 0 else 'Error: Division by zero'

            return jsonify({
                'jsonrpc': '2.0',
                'id': req['id'],
                'result': {
                    'output': f'{a} {op} {b} = {result}'
                }
            })

        elif tool_name == 'echo':
            return jsonify({
                'jsonrpc': '2.0',
                'id': req['id'],
                'result': {
                    'output': f"Echo: {args.get('message', '')}"
                }
            })

    # æœªçŸ¥æ–¹æ³•
    return jsonify({
        'jsonrpc': '2.0',
        'id': req.get('id'),
        'error': {
            'code': -32601,
            'message': 'Method not found'
        }
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)
```

è¿è¡Œ Serverï¼š

```bash
pip install flask
python simple_mcp_server.py
```

### Go å®ç°

```go
// simple_mcp_server.go
package main

import (
    "encoding/json"
    "fmt"
    "net/http"
)

type JSONRPCRequest struct {
    JSONRPC string                 `json:"jsonrpc"`
    ID      interface{}            `json:"id"`
    Method  string                 `json:"method"`
    Params  map[string]interface{} `json:"params"`
}

type JSONRPCResponse struct {
    JSONRPC string      `json:"jsonrpc"`
    ID      interface{} `json:"id"`
    Result  interface{} `json:"result,omitempty"`
    Error   interface{} `json:"error,omitempty"`
}

func mcpHandler(w http.ResponseWriter, r *http.Request) {
    var req JSONRPCRequest
    json.NewDecoder(r.Body).Decode(&req)

    var resp JSONRPCResponse
    resp.JSONRPC = "2.0"
    resp.ID = req.ID

    switch req.Method {
    case "tools/list":
        resp.Result = map[string]interface{}{
            "tools": []map[string]interface{}{
                {
                    "name":        "calculator",
                    "description": "Simple calculator",
                    "inputSchema": map[string]interface{}{
                        "type": "object",
                        "properties": map[string]interface{}{
                            "operation": map[string]interface{}{
                                "type": "string",
                                "enum": []string{"add", "subtract", "multiply", "divide"},
                            },
                            "a": map[string]interface{}{"type": "number"},
                            "b": map[string]interface{}{"type": "number"},
                        },
                        "required": []string{"operation", "a", "b"},
                    },
                },
            },
        }

    case "tools/call":
        name := req.Params["name"].(string)
        args := req.Params["arguments"].(map[string]interface{})

        if name == "calculator" {
            a := args["a"].(float64)
            b := args["b"].(float64)
            op := args["operation"].(string)

            var result float64
            switch op {
            case "add":
                result = a + b
            case "subtract":
                result = a - b
            case "multiply":
                result = a * b
            case "divide":
                if b != 0 {
                    result = a / b
                }
            }

            resp.Result = map[string]interface{}{
                "output": fmt.Sprintf("%.2f %s %.2f = %.2f", a, op, b, result),
            }
        }

    default:
        resp.Error = map[string]interface{}{
            "code":    -32601,
            "message": "Method not found",
        }
    }

    w.Header().Set("Content-Type", "application/json")
    json.NewEncoder(w).Encode(resp)
}

func main() {
    http.HandleFunc("/mcp", mcpHandler)
    fmt.Println("MCP Server running on :8080")
    http.ListenAndServe(":8080", nil)
}
```

è¿è¡Œ Serverï¼š

```bash
go run simple_mcp_server.go
```

## ğŸ”§ é…ç½®é€‰é¡¹

### Server é…ç½®

```go
type MCPServerConfig struct {
    // Server å”¯ä¸€ ID
    ServerID string

    // MCP ç«¯ç‚¹ URL
    Endpoint string

    // å¯é€‰ï¼šè®¤è¯ä¿¡æ¯
    AccessKeyID     string
    AccessKeySecret string

    // å¯é€‰ï¼šè¶…æ—¶é…ç½®
    Timeout time.Duration

    // å¯é€‰ï¼šé‡è¯•é…ç½®
    RetryCount int
    RetryDelay time.Duration
}
```

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# MCP Server ç«¯ç‚¹
export MCP_ENDPOINT="http://localhost:8080/mcp"

# è®¤è¯ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
export MCP_ACCESS_KEY="your-access-key-id"
export MCP_SECRET_KEY="your-secret-key"

# å¤šä¸ª Serverï¼ˆé€—å·åˆ†éš”ï¼‰
export MCP_ENDPOINTS="http://server1:8080/mcp,http://server2:8080/mcp"
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å·¥å…·å‘½å

```go
// âœ… å¥½çš„å‘½åï¼šä½¿ç”¨ server_id å‰ç¼€
"my-server:calculator"
"db-tools:query"
"api-tools:send_email"

// âŒ ä¸å¥½çš„å‘½åï¼šå®¹æ˜“å†²çª
"calculator"  // å¯èƒ½ä¸å…¶ä»– server çš„å·¥å…·å†²çª
```

### 2. é”™è¯¯å¤„ç†

```go
// è¿æ¥ MCP Server æ—¶å¤„ç†é”™è¯¯
err := mcpManager.ConnectServer(ctx, "my-server")
if err != nil {
    log.Printf("âš ï¸  Failed to connect to MCP server: %v", err)
    log.Println("   Agent will work with built-in tools only")
    // ç»§ç»­è¿è¡Œï¼Œä½¿ç”¨å†…ç½®å·¥å…·
} else {
    log.Println("âœ… MCP server connected successfully")
}
```

### 3. å·¥å…·å‘ç°

```go
// åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·ï¼ˆå†…ç½® + MCPï¼‰
allTools := toolRegistry.List()
fmt.Println("Available tools:")
for _, toolName := range allTools {
    fmt.Printf("  - %s\n", toolName)
}
```

### 4. åŠ¨æ€æ·»åŠ  Server

```go
// è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ  MCP Server
func addMCPServerDynamically(mcpManager *mcp.MCPManager, endpoint string) {
    serverID := fmt.Sprintf("dynamic-%d", time.Now().Unix())

    _, err := mcpManager.AddServer(&mcp.MCPServerConfig{
        ServerID: serverID,
        Endpoint: endpoint,
    })
    if err != nil {
        log.Printf("Failed to add server: %v", err)
        return
    }

    err = mcpManager.ConnectServer(context.Background(), serverID)
    if err != nil {
        log.Printf("Failed to connect: %v", err)
        mcpManager.RemoveServer(serverID)
        return
    }

    log.Printf("âœ… Added and connected to %s", endpoint)
}
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: è¿æ¥å¤±è´¥

```
âš ï¸  è¿æ¥ MCP Server å¤±è´¥: dial tcp: connection refused
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®ä¿ MCP Server æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ç«¯ç‚¹ URL æ˜¯å¦æ­£ç¡®
3. éªŒè¯ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. ä½¿ç”¨ curl æµ‹è¯•ç«¯ç‚¹ï¼š
   ```bash
   curl -X POST http://localhost:8080/mcp \
     -H "Content-Type: application/json" \
     -d '{"jsonrpc":"2.0","id":1,"method":"tools/list"}'
   ```

### é—®é¢˜ 2: è®¤è¯å¤±è´¥

```
âš ï¸  MCP error: unauthorized (code: 401)
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ `AccessKeyID` å’Œ `AccessKeySecret`
2. ç¡®è®¤ MCP Server çš„è®¤è¯é…ç½®
3. æŸ¥çœ‹ Server æ—¥å¿—äº†è§£è¯¦ç»†é”™è¯¯

### é—®é¢˜ 3: å·¥å…·æœªæ‰¾åˆ°

```
Tool not found: my-server:calculator
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤ Server å·²è¿æ¥: `mcpManager.GetServer("my-server")`
2. åˆ—å‡ºå·²æ³¨å†Œçš„å·¥å…·: `server.ListTools()`
3. æ£€æŸ¥å·¥å…·åç§°æ ¼å¼: `{server_id}:{tool_name}`

### é—®é¢˜ 4: å·¥å…·è°ƒç”¨è¶…æ—¶

```
âš ï¸  Tool execution timeout: my-server:slow_query
```

**è§£å†³æ–¹æ¡ˆï¼š**
```go
// å¢åŠ è¶…æ—¶æ—¶é—´
server, _ := mcpManager.AddServer(&mcp.MCPServerConfig{
    ServerID: "my-server",
    Endpoint: endpoint,
    Timeout:  60 * time.Second,  // å¢åŠ åˆ° 60 ç§’
})
```

## ğŸ“Š ç›‘æ§ä¸ç»Ÿè®¡

```go
// è·å– MCP ç»Ÿè®¡ä¿¡æ¯
func printMCPStats(mcpManager *mcp.MCPManager) {
    fmt.Println("\n=== MCP ç»Ÿè®¡ ===")
    fmt.Printf("Server æ•°é‡: %d\n", mcpManager.GetServerCount())
    fmt.Printf("å·¥å…·æ€»æ•°: %d\n", mcpManager.GetTotalToolCount())

    fmt.Println("\nè¯¦ç»†ä¿¡æ¯:")
    for _, serverID := range mcpManager.ListServers() {
        server := mcpManager.GetServer(serverID)
        if server != nil {
            fmt.Printf("  ğŸ“¡ %s: %d tools\n", serverID, server.GetToolCount())
            for _, tool := range server.ListTools() {
                fmt.Printf("    - %s\n", tool.Name)
            }
        }
    }
}
```

## â“ å¸¸è§é—®é¢˜

### Q: MCP å·¥å…·å’Œå†…ç½®å·¥å…·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

| ç‰¹æ€§ | å†…ç½®å·¥å…· | MCP å·¥å…· |
|------|---------|----------|
| éƒ¨ç½²æ–¹å¼ | ç¼–è¯‘åˆ°åº”ç”¨ | ç‹¬ç«‹æœåŠ¡ |
| ç½‘ç»œè°ƒç”¨ | å¦ | æ˜¯ |
| æ€§èƒ½ | æ›´å¿« | ç¨æ…¢ï¼ˆç½‘ç»œå¼€é”€ï¼‰ |
| æ‰©å±•æ€§ | éœ€è¦é‡æ–°ç¼–è¯‘ | åŠ¨æ€æ·»åŠ  |
| é€‚ç”¨åœºæ™¯ | åŸºç¡€åŠŸèƒ½ | ä¸“ä¸š/ç¬¬ä¸‰æ–¹åŠŸèƒ½ |

### Q: å¯ä»¥åŒæ—¶è¿æ¥å¤šä¸ª MCP Server å—ï¼Ÿ

å¯ä»¥ï¼ä½¿ç”¨ä¸åŒçš„ ServerIDï¼š

```go
mcpManager.AddServer(&mcp.MCPServerConfig{ServerID: "server1", ...})
mcpManager.AddServer(&mcp.MCPServerConfig{ServerID: "server2", ...})
mcpManager.ConnectAll(ctx)
```

### Q: å¦‚ä½•å®ç° MCP å·¥å…·çš„ç¼“å­˜ï¼Ÿ

MCP Adapter å†…éƒ¨å·²å®ç°è¿æ¥æ± å’Œè¯·æ±‚ç¼“å­˜ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†ã€‚

### Q: MCP Server å®•æœºäº†æ€ä¹ˆåŠï¼Ÿ

Agent ä¼šæ•è·é”™è¯¯å¹¶ç»§ç»­è¿è¡Œï¼š

```go
// å¦‚æœ MCP å·¥å…·è°ƒç”¨å¤±è´¥ï¼ŒAgent ä¼šæŠ¥å‘Šé”™è¯¯
// ä½†ä¸ä¼šå´©æºƒï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨å…¶ä»–å·¥å…·
```

## ğŸ”— ç›¸å…³èµ„æº

- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io) - å®˜æ–¹æ–‡æ¡£
- [å†…ç½®å·¥å…·](/examples/tools/builtin) - å†…ç½®å·¥å…·å‚è€ƒ
- [è‡ªå®šä¹‰å·¥å…·](/examples/tools/custom) - åˆ›å»ºè‡ªå®šä¹‰å·¥å…·
- [å®Œæ•´ç¤ºä¾‹ä»£ç ](https://github.com/wordflowlab/agentsdk/blob/main/examples/mcp/main.go)
