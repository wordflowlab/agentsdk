---
title: å†…ç½®å·¥å…·
description: ä½¿ç”¨ AgentSDK æä¾›çš„å†…ç½®å·¥å…·ï¼šæ–‡ä»¶ç³»ç»Ÿã€Bashã€HTTPã€æœç´¢
navigation:
  icon: i-lucide-wrench
---

# å†…ç½®å·¥å…·ç¤ºä¾‹

AgentSDK æä¾›äº†ä¸€ç»„å¼€ç®±å³ç”¨çš„å†…ç½®å·¥å…·,æ— éœ€é…ç½®å³å¯ä½¿ç”¨ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»æ¯ä¸ªå†…ç½®å·¥å…·çš„ç”¨æ³•å’Œç¤ºä¾‹ã€‚

## ğŸ“¦ å·¥å…·åˆ—è¡¨

| å·¥å…·åç§° | åŠŸèƒ½ | æ²™ç®± | ç¤ºä¾‹ |
|---------|------|------|------|
| `fs_read` | è¯»å–æ–‡ä»¶ | âœ… | [â†’](#fs_read) |
| `fs_write` | å†™å…¥æ–‡ä»¶ | âœ… | [â†’](#fs_write) |
| `bash_run` | æ‰§è¡Œå‘½ä»¤ | âœ… | [â†’](#bash_run) |
| `http_request` | HTTP è¯·æ±‚ | âŒ | [â†’](#http_request) |
| `web_search` | ç½‘ç»œæœç´¢ | âŒ | [â†’](#web_search) |

**æ²™ç®±è¯´æ˜ï¼š**
- âœ… - åœ¨æ²™ç®±ä¸­æ‰§è¡Œ,æ–‡ä»¶æ“ä½œé™åˆ¶åœ¨å·¥ä½œç›®å½•å†…
- âŒ - ç›´æ¥æ‰§è¡Œ,è®¿é—®å¤–éƒ¨ç½‘ç»œèµ„æº

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ³¨å†Œæ‰€æœ‰å†…ç½®å·¥å…·

```go
package main

import (
    "context"
    "fmt"
    "log"
    "os"

    "github.com/wordflowlab/agentsdk/pkg/agent"
    "github.com/wordflowlab/agentsdk/pkg/sandbox"
    "github.com/wordflowlab/agentsdk/pkg/store"
    "github.com/wordflowlab/agentsdk/pkg/tools"
    "github.com/wordflowlab/agentsdk/pkg/tools/builtin"
    "github.com/wordflowlab/agentsdk/pkg/types"
)

func main() {
    ctx := context.Background()

    // 1. åˆ›å»ºå·¥å…·æ³¨å†Œè¡¨
    toolRegistry := tools.NewRegistry()

    // 2. æ³¨å†Œæ‰€æœ‰å†…ç½®å·¥å…·
    builtin.RegisterAll(toolRegistry)

    // 3. åˆ›å»ºå…¶ä»–ä¾èµ–...
    sandboxFactory := sandbox.NewFactory()
    jsonStore, _ := store.NewJSONStore(".agentsdk")
    templateRegistry := agent.NewTemplateRegistry()

    // 4. æ³¨å†Œæ¨¡æ¿å¹¶å£°æ˜å¯ç”¨å·¥å…·
    templateRegistry.Register(&types.AgentTemplateDefinition{
        ID:    "assistant",
        Model: "claude-sonnet-4-5",
        SystemPrompt: "You are a helpful assistant with file and command execution capabilities.",
        Tools: []interface{}{
            "fs_read",      // æ–‡ä»¶è¯»å–
            "fs_write",     // æ–‡ä»¶å†™å…¥
            "bash_run",     // å‘½ä»¤æ‰§è¡Œ
            "http_request", // HTTP è¯·æ±‚
            "web_search",   // ç½‘ç»œæœç´¢
        },
    })

    // 5. åˆ›å»ºä¾èµ–å¯¹è±¡
    deps := &agent.Dependencies{
        Store:            jsonStore,
        SandboxFactory:   sandboxFactory,
        ToolRegistry:     toolRegistry,
        TemplateRegistry: templateRegistry,
    }

    // 6. åˆ›å»º Agent
    config := &types.AgentConfig{
        TemplateID: "assistant",
        ModelConfig: &types.ModelConfig{
            Provider: "anthropic",
            Model:    "claude-sonnet-4-5",
            APIKey:   os.Getenv("ANTHROPIC_API_KEY"),
        },
        Sandbox: &types.SandboxConfig{
            Kind:    types.SandboxKindLocal,
            WorkDir: "./workspace",
        },
    }

    ag, err := agent.Create(ctx, config, deps)
    if err != nil {
        log.Fatalf("Failed to create agent: %v", err)
    }
    defer ag.Close()

    fmt.Printf("Agent created: %s\n", ag.ID())

    // 7. ä½¿ç”¨å†…ç½®å·¥å…·
    testBuiltinTools(ctx, ag)
}
```

## ğŸ”§ å·¥å…·è¯¦è§£

### <a id="fs_read"></a>ğŸ“– fs_read - æ–‡ä»¶è¯»å–

ä»æ²™ç®±æ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶å†…å®¹ã€‚

**è¾“å…¥å‚æ•°ï¼š**

```typescript
{
  "path": string,      // æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºæ²™ç®±å·¥ä½œç›®å½•ï¼‰
  "offset"?: number,   // è¡Œåç§»é‡ï¼ˆå¯é€‰ï¼‰
  "limit"?: number     // æœ€å¤§è¯»å–è¡Œæ•°ï¼ˆå¯é€‰ï¼‰
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```go
// ç¤ºä¾‹ 1: è¯»å–æ•´ä¸ªæ–‡ä»¶
result, err := ag.Chat(ctx, "è¯·è¯»å– config.json æ–‡ä»¶çš„å†…å®¹")
// Agent å°†è°ƒç”¨: fs_read(path="config.json")

// ç¤ºä¾‹ 2: è¯»å–éƒ¨åˆ†å†…å®¹
result, err := ag.Chat(ctx, "è¯·è¯»å– README.md çš„å‰ 10 è¡Œ")
// Agent å°†è°ƒç”¨: fs_read(path="README.md", limit=10)

// ç¤ºä¾‹ 3: ä»æŒ‡å®šä½ç½®è¯»å–
result, err := ag.Chat(ctx, "è¯·ä»ç¬¬ 50 è¡Œå¼€å§‹è¯»å– data.txtï¼Œè¯»å– 20 è¡Œ")
// Agent å°†è°ƒç”¨: fs_read(path="data.txt", offset=50, limit=20)
```

**è¿”å›æ ¼å¼ï¼š**

```json
{
  "content": "æ–‡ä»¶å†…å®¹...",
  "lines": 42,
  "size": 1024
}
```

**é”™è¯¯å¤„ç†ï¼š**

```go
// æ–‡ä»¶ä¸å­˜åœ¨
{
  "error": "file not found: config.json"
}

// æƒé™ä¸è¶³
{
  "error": "permission denied: /etc/passwd"
}

// è·¯å¾„åœ¨æ²™ç®±å¤–
{
  "error": "path outside sandbox: ../../../etc/passwd"
}
```

**æœ€ä½³å®è·µï¼š**

1. âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„
```go
// å¥½
"path": "data/config.json"

// ä¸å¥½ï¼ˆæ²™ç®±å¤–è·¯å¾„ä¼šè¢«æ‹’ç»ï¼‰
"path": "/etc/passwd"
"path": "../../../secrets.txt"
```

2. âœ… åˆ†æ®µè¯»å–å¤§æ–‡ä»¶
```go
// å¯¹äºå¤§æ–‡ä»¶ï¼Œåˆ†æ®µè¯»å–
ag.Chat(ctx, "è¯·è¯»å– large.log çš„å‰ 100 è¡Œ")
// è€Œä¸æ˜¯ä¸€æ¬¡è¯»å–æ•´ä¸ªæ–‡ä»¶
```

3. âœ… æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```go
// å…ˆåˆ—å‡ºæ–‡ä»¶
ag.Chat(ctx, "è¯·åˆ—å‡ºå½“å‰ç›®å½•çš„æ–‡ä»¶")
// å†è¯»å–ç‰¹å®šæ–‡ä»¶
ag.Chat(ctx, "è¯·è¯»å– data.json")
```

---

### <a id="fs_write"></a>âœï¸ fs_write - æ–‡ä»¶å†™å…¥

å‘æ²™ç®±æ–‡ä»¶ç³»ç»Ÿå†™å…¥æ–‡ä»¶ã€‚

**è¾“å…¥å‚æ•°ï¼š**

```typescript
{
  "path": string,    // æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºæ²™ç®±å·¥ä½œç›®å½•ï¼‰
  "content": string  // æ–‡ä»¶å†…å®¹
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```go
// ç¤ºä¾‹ 1: åˆ›å»ºæ–°æ–‡ä»¶
result, err := ag.Chat(ctx, "è¯·åˆ›å»ºä¸€ä¸ªåä¸º hello.txt çš„æ–‡ä»¶ï¼Œå†…å®¹æ˜¯ 'Hello World'")
// Agent å°†è°ƒç”¨: fs_write(path="hello.txt", content="Hello World")

// ç¤ºä¾‹ 2: è¦†ç›–ç°æœ‰æ–‡ä»¶
result, err := ag.Chat(ctx, "è¯·å°† config.json çš„å†…å®¹æ›´æ–°ä¸º {\"debug\": true}")
// Agent å°†è°ƒç”¨: fs_write(path="config.json", content="{\"debug\": true}")

// ç¤ºä¾‹ 3: å†™å…¥å¤šè¡Œæ–‡æœ¬
result, err := ag.Chat(ctx, `
è¯·åˆ›å»º script.sh æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:
#!/bin/bash
echo "Hello"
date
`)
// Agent å°†è°ƒç”¨: fs_write(path="script.sh", content="#!/bin/bash\necho \"Hello\"\ndate")
```

**è¿”å›æ ¼å¼ï¼š**

```json
{
  "path": "hello.txt",
  "size": 11,
  "created": true
}
```

**é”™è¯¯å¤„ç†ï¼š**

```go
// è·¯å¾„åœ¨æ²™ç®±å¤–
{
  "error": "path outside sandbox: ../../../secrets.txt"
}

// ç£ç›˜ç©ºé—´ä¸è¶³
{
  "error": "no space left on device"
}

// æƒé™ä¸è¶³
{
  "error": "permission denied: /protected/file.txt"
}
```

**æœ€ä½³å®è·µï¼š**

1. âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„
```go
// å¥½
"path": "output/result.json"

// ä¸å¥½
"path": "/tmp/result.json"  // ç»å¯¹è·¯å¾„å¯èƒ½è¢«æ‹’ç»
```

2. âœ… è‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„
```go
// Agent å¯ä»¥å…ˆåˆ›å»ºç›®å½•
ag.Chat(ctx, "è¯·åœ¨ data ç›®å½•ä¸‹åˆ›å»º config.json æ–‡ä»¶")
// Agent ä¼šè‡ªåŠ¨: mkdir -p data && fs_write(path="data/config.json", ...)
```

3. âœ… å¤‡ä»½é‡è¦æ–‡ä»¶
```go
// è¦†ç›–å‰å…ˆå¤‡ä»½
ag.Chat(ctx, "è¯·å¤‡ä»½ config.json ä¸º config.json.bakï¼Œç„¶åæ›´æ–° config.json")
```

---

### <a id="bash_run"></a>âš¡ bash_run - å‘½ä»¤æ‰§è¡Œ

åœ¨æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œ Bash å‘½ä»¤ã€‚

**è¾“å…¥å‚æ•°ï¼š**

```typescript
{
  "cmd": string,           // è¦æ‰§è¡Œçš„å‘½ä»¤
  "timeout_ms"?: number    // è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ 120000ï¼‰
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```go
// ç¤ºä¾‹ 1: åˆ—å‡ºæ–‡ä»¶
result, err := ag.Chat(ctx, "è¯·åˆ—å‡ºå½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶")
// Agent å°†è°ƒç”¨: bash_run(cmd="ls -la")

// ç¤ºä¾‹ 2: æŸ¥æ‰¾æ–‡ä»¶
result, err := ag.Chat(ctx, "è¯·æŸ¥æ‰¾æ‰€æœ‰ .json æ–‡ä»¶")
// Agent å°†è°ƒç”¨: bash_run(cmd="find . -name '*.json'")

// ç¤ºä¾‹ 3: æ–‡æœ¬å¤„ç†
result, err := ag.Chat(ctx, "è¯·ç»Ÿè®¡ data.txt æœ‰å¤šå°‘è¡Œ")
// Agent å°†è°ƒç”¨: bash_run(cmd="wc -l data.txt")

// ç¤ºä¾‹ 4: å¤æ‚ç®¡é“
result, err := ag.Chat(ctx, "è¯·æ‰¾å‡ºæ—¥å¿—ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„ 10 ä¸ªé”™è¯¯")
// Agent å°†è°ƒç”¨: bash_run(cmd="grep 'ERROR' app.log | sort | uniq -c | sort -nr | head -10")
```

**è¿”å›æ ¼å¼ï¼š**

```json
{
  "stdout": "å‘½ä»¤è¾“å‡º...",
  "stderr": "",
  "exit_code": 0,
  "duration_ms": 42
}
```

**é”™è¯¯å¤„ç†ï¼š**

```go
// å‘½ä»¤æ‰§è¡Œå¤±è´¥
{
  "stdout": "",
  "stderr": "ls: cannot access 'nonexistent': No such file or directory",
  "exit_code": 2
}

// è¶…æ—¶
{
  "error": "command timeout after 120000ms"
}

// å±é™©å‘½ä»¤è¢«æ‹’ç»
{
  "error": "dangerous command rejected: rm -rf /"
}
```

**æ”¯æŒçš„å‘½ä»¤ï¼š**

âœ… **å…è®¸çš„å‘½ä»¤ï¼š**
- æ–‡ä»¶æ“ä½œ: `ls`, `cat`, `cp`, `mv`, `mkdir`, `touch`, `chmod`
- æ–‡æœ¬å¤„ç†: `grep`, `sed`, `awk`, `sort`, `uniq`, `wc`, `head`, `tail`
- æŸ¥æ‰¾: `find`, `locate`
- å‹ç¼©: `tar`, `gzip`, `zip`, `unzip`
- ç½‘ç»œ: `curl`, `wget`, `ping` (æœ‰é™åˆ¶)
- ç³»ç»Ÿ: `echo`, `date`, `pwd`, `env`

âš ï¸ **å—é™çš„å‘½ä»¤ï¼š**
- éœ€è¦ root: `sudo`, `su`
- ç³»ç»Ÿç®¡ç†: `apt`, `yum`, `systemctl`
- å±é™©æ“ä½œ: `rm -rf /`, `dd`, `mkfs`

**æœ€ä½³å®è·µï¼š**

1. âœ… ä½¿ç”¨ç®¡é“ç»„åˆå‘½ä»¤
```go
// å¥½ï¼šä¸€æ¬¡è°ƒç”¨å®Œæˆå¤æ‚ä»»åŠ¡
ag.Chat(ctx, "è¯·æ‰¾å‡ºæœ€å¤§çš„ 5 ä¸ªæ–‡ä»¶")
// bash_run(cmd="du -h * | sort -hr | head -5")

// ä¸å¥½ï¼šå¤šæ¬¡è°ƒç”¨
ag.Chat(ctx, "è¯·è¿è¡Œ du -h *")
ag.Chat(ctx, "è¯·æ’åºä¸Šé¢çš„ç»“æœ")
ag.Chat(ctx, "è¯·æ˜¾ç¤ºå‰ 5 ä¸ª")
```

2. âœ… è®¾ç½®åˆç†çš„è¶…æ—¶
```go
// å¯¹äºå¯èƒ½é•¿æ—¶é—´è¿è¡Œçš„å‘½ä»¤ï¼Œè®¾ç½®è¶…æ—¶
ag.Chat(ctx, "è¯·æœç´¢æ‰€æœ‰åŒ…å« 'error' çš„æ—¥å¿—æ–‡ä»¶ï¼Œé™æ—¶ 30 ç§’")
// Agent ä¼šè®¾ç½®: bash_run(cmd="grep -r 'error' logs/", timeout_ms=30000)
```

3. âœ… å¤„ç†ç‰¹æ®Šå­—ç¬¦
```go
// Agent ä¼šè‡ªåŠ¨å¤„ç†å¼•å·å’Œè½¬ä¹‰
ag.Chat(ctx, "è¯·æŸ¥æ‰¾åŒ…å« 'hello world' çš„æ–‡ä»¶")
// bash_run(cmd="grep 'hello world' *.txt")
```

---

### <a id="http_request"></a>ğŸŒ http_request - HTTP è¯·æ±‚

å‘é€ HTTP è¯·æ±‚åˆ°å¤–éƒ¨ APIã€‚

**è¾“å…¥å‚æ•°ï¼š**

```typescript
{
  "url": string,                    // è¯·æ±‚ URL
  "method"?: string,                // HTTP æ–¹æ³•ï¼ˆé»˜è®¤ GETï¼‰
  "headers"?: map[string]string,    // è¯·æ±‚å¤´
  "body"?: string,                  // è¯·æ±‚ä½“
  "timeout_ms"?: number             // è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ 30000ï¼‰
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```go
// ç¤ºä¾‹ 1: GET è¯·æ±‚
result, err := ag.Chat(ctx, "è¯·è·å– https://api.github.com/users/octocat çš„ä¿¡æ¯")
// Agent å°†è°ƒç”¨:
// http_request(url="https://api.github.com/users/octocat", method="GET")

// ç¤ºä¾‹ 2: POST è¯·æ±‚
result, err := ag.Chat(ctx, `
è¯·å‘ https://api.example.com/users å‘é€ POST è¯·æ±‚ï¼Œ
åˆ›å»ºç”¨æˆ·ï¼š{"name": "Alice", "email": "alice@example.com"}
`)
// Agent å°†è°ƒç”¨:
// http_request(
//   url="https://api.example.com/users",
//   method="POST",
//   headers={"Content-Type": "application/json"},
//   body='{"name": "Alice", "email": "alice@example.com"}'
// )

// ç¤ºä¾‹ 3: å¸¦è®¤è¯çš„è¯·æ±‚
result, err := ag.Chat(ctx, "è¯·ä½¿ç”¨ token ABC123 è·å–æˆ‘çš„ GitHub ä»“åº“åˆ—è¡¨")
// Agent å°†è°ƒç”¨:
// http_request(
//   url="https://api.github.com/user/repos",
//   method="GET",
//   headers={"Authorization": "token ABC123"}
// )
```

**è¿”å›æ ¼å¼ï¼š**

```json
{
  "status_code": 200,
  "headers": {
    "Content-Type": "application/json",
    "Content-Length": "1024"
  },
  "body": "{...}",
  "duration_ms": 156
}
```

**é”™è¯¯å¤„ç†ï¼š**

```go
// ç½‘ç»œé”™è¯¯
{
  "error": "dial tcp: connection refused"
}

// HTTP é”™è¯¯
{
  "status_code": 404,
  "body": "{\"error\": \"Not Found\"}"
}

// è¶…æ—¶
{
  "error": "request timeout after 30000ms"
}
```

**æœ€ä½³å®è·µï¼š**

1. âœ… æ£€æŸ¥å“åº”çŠ¶æ€ç 
```go
// Agent ä¼šè‡ªåŠ¨æ£€æŸ¥çŠ¶æ€ç å¹¶å¤„ç†é”™è¯¯
ag.Chat(ctx, "è¯·è°ƒç”¨ API å¹¶æ£€æŸ¥æ˜¯å¦æˆåŠŸ")
```

2. âœ… è®¾ç½®åˆç†çš„è¶…æ—¶
```go
// å¯¹äºæ…¢ APIï¼Œå¢åŠ è¶…æ—¶æ—¶é—´
ag.Chat(ctx, "è¯·è°ƒç”¨è¿™ä¸ªæ…¢ APIï¼ˆå¯èƒ½éœ€è¦ 1 åˆ†é’Ÿï¼‰")
// Agent ä¼šè®¾ç½®: timeout_ms=60000
```

3. âœ… ä¿æŠ¤æ•æ„Ÿä¿¡æ¯
```go
// ä»ç¯å¢ƒå˜é‡è¯»å– API Key
config := &types.AgentConfig{
    ModelConfig: &types.ModelConfig{
        // ...
    },
    Env: map[string]string{
        "API_KEY": os.Getenv("API_KEY"),
    },
}

ag.Chat(ctx, "è¯·ä½¿ç”¨ç¯å¢ƒå˜é‡ API_KEY è°ƒç”¨ API")
```

---

### <a id="web_search"></a>ğŸ” web_search - ç½‘ç»œæœç´¢

ä½¿ç”¨æœç´¢å¼•æ“æŸ¥è¯¢ä¿¡æ¯ï¼ˆéœ€è¦é…ç½®æœç´¢ APIï¼‰ã€‚

**è¾“å…¥å‚æ•°ï¼š**

```typescript
{
  "query": string,     // æœç´¢æŸ¥è¯¢
  "limit"?: number     // æœ€å¤§ç»“æœæ•°ï¼ˆé»˜è®¤ 10ï¼‰
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```go
// ç¤ºä¾‹ 1: åŸºæœ¬æœç´¢
result, err := ag.Chat(ctx, "è¯·æœç´¢ 'Go è¯­è¨€å¹¶å‘ç¼–ç¨‹'")
// Agent å°†è°ƒç”¨: web_search(query="Go è¯­è¨€å¹¶å‘ç¼–ç¨‹")

// ç¤ºä¾‹ 2: é™åˆ¶ç»“æœæ•°
result, err := ag.Chat(ctx, "è¯·æœç´¢æœ€æ–°çš„ AI æ–°é—»ï¼Œåªè¦å‰ 5 æ¡")
// Agent å°†è°ƒç”¨: web_search(query="æœ€æ–° AI æ–°é—»", limit=5)

// ç¤ºä¾‹ 3: ç»“åˆå…¶ä»–å·¥å…·
result, err := ag.Chat(ctx, "è¯·æœç´¢ Go channel çš„ç”¨æ³•ï¼Œå¹¶æ€»ç»“åˆ° notes.md æ–‡ä»¶")
// Agent å°†è°ƒç”¨:
// 1. web_search(query="Go channel ç”¨æ³•")
// 2. fs_write(path="notes.md", content="...")
```

**è¿”å›æ ¼å¼ï¼š**

```json
{
  "results": [
    {
      "title": "Go å¹¶å‘ç¼–ç¨‹",
      "url": "https://example.com/go-concurrency",
      "snippet": "Go è¯­è¨€çš„å¹¶å‘æ¨¡å‹åŸºäº CSP...",
      "rank": 1
    },
    ...
  ],
  "total": 42,
  "query": "Go è¯­è¨€å¹¶å‘ç¼–ç¨‹"
}
```

**é…ç½®æœç´¢ APIï¼š**

```go
// åœ¨åˆ›å»º Agent æ—¶é…ç½®æœç´¢ API
config := &types.AgentConfig{
    // ...
    SearchConfig: &types.SearchConfig{
        Provider: "google",  // æˆ– "bing", "serpapi"
        APIKey:   os.Getenv("SEARCH_API_KEY"),
    },
}
```

**æœ€ä½³å®è·µï¼š**

1. âœ… ç²¾ç¡®æŸ¥è¯¢
```go
// å¥½ï¼šå…·ä½“çš„æŸ¥è¯¢
ag.Chat(ctx, "è¯·æœç´¢ 'AgentSDK Go å·¥å…·ç³»ç»Ÿ æ–‡æ¡£'")

// ä¸å¥½ï¼šæ¨¡ç³Šçš„æŸ¥è¯¢
ag.Chat(ctx, "è¯·æœç´¢ä¸€äº›ä¿¡æ¯")
```

2. âœ… ç»“åˆæ–‡ä»¶æ“ä½œ
```go
// æœç´¢å¹¶ä¿å­˜ç»“æœ
ag.Chat(ctx, "è¯·æœç´¢ AI Agent çš„æœ€ä½³å®è·µï¼Œå¹¶ä¿å­˜åˆ° research.md")
```

3. âœ… ä½¿ç”¨æœç´¢ç»“æœ
```go
// æœç´¢åç»§ç»­å¤„ç†
ag.Chat(ctx, "è¯·æœç´¢ Go channel çš„ç”¨æ³•")
ag.Chat(ctx, "æ ¹æ®æœç´¢ç»“æœï¼Œç»™æˆ‘å†™ä¸€ä¸ªç¤ºä¾‹ä»£ç ")
```

## ğŸ¬ å®Œæ•´ç¤ºä¾‹

### æ–‡ä»¶ç®¡ç†åŠ©æ‰‹

```go
func testFileManagement(ctx context.Context, ag *agent.Agent) {
    fmt.Println("=== æ–‡ä»¶ç®¡ç†ç¤ºä¾‹ ===")

    // 1. åˆ›å»ºç›®å½•ç»“æ„
    ag.Chat(ctx, "è¯·åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ï¼šdata/input, data/output, logs")

    // 2. åˆ›å»ºé…ç½®æ–‡ä»¶
    ag.Chat(ctx, `
        è¯·åˆ›å»º config.json æ–‡ä»¶ï¼š
        {
          "app": "demo",
          "version": "1.0.0",
          "debug": true
        }
    `)

    // 3. åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶
    ag.Chat(ctx, "è¯·åˆ—å‡ºå½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•")

    // 4. è¯»å–é…ç½®
    ag.Chat(ctx, "è¯·è¯»å– config.json å¹¶å‘Šè¯‰æˆ‘ debug æ˜¯å¦å¯ç”¨")

    // 5. æ›´æ–°é…ç½®
    ag.Chat(ctx, "è¯·å°† config.json çš„ version æ”¹ä¸º 1.1.0")
}
```

### æ—¥å¿—åˆ†æåŠ©æ‰‹

```go
func testLogAnalysis(ctx context.Context, ag *agent.Agent) {
    fmt.Println("=== æ—¥å¿—åˆ†æç¤ºä¾‹ ===")

    // 1. ç»Ÿè®¡é”™è¯¯æ•°
    ag.Chat(ctx, "è¯·ç»Ÿè®¡ app.log ä¸­æœ‰å¤šå°‘ ERROR çº§åˆ«çš„æ—¥å¿—")

    // 2. æ‰¾å‡ºæœ€å¸¸è§çš„é”™è¯¯
    ag.Chat(ctx, "è¯·æ‰¾å‡º app.log ä¸­å‡ºç°æœ€å¤šçš„ 10 ç§é”™è¯¯")

    // 3. æå–ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
    ag.Chat(ctx, "è¯·æå–ä»Šå¤© 14:00-15:00 ä¹‹é—´çš„æ‰€æœ‰æ—¥å¿—åˆ° today.log")

    // 4. ç”ŸæˆæŠ¥å‘Š
    ag.Chat(ctx, "è¯·åˆ†ææ—¥å¿—å¹¶ç”ŸæˆæŠ¥å‘Šåˆ° report.mdï¼ŒåŒ…å«é”™è¯¯ç»Ÿè®¡å’Œå…³é”®å‘ç°")
}
```

### API é›†æˆåŠ©æ‰‹

```go
func testAPIIntegration(ctx context.Context, ag *agent.Agent) {
    fmt.Println("=== API é›†æˆç¤ºä¾‹ ===")

    // 1. è·å–ç”¨æˆ·ä¿¡æ¯
    ag.Chat(ctx, "è¯·ä» https://api.github.com/users/octocat è·å–ç”¨æˆ·ä¿¡æ¯")

    // 2. æœç´¢ç›¸å…³é¡¹ç›®
    ag.Chat(ctx, "è¯·æœç´¢ GitHub ä¸Šçš„ 'go agent framework' é¡¹ç›®")

    // 3. ä¿å­˜ç»“æœ
    ag.Chat(ctx, "è¯·å°†æœç´¢ç»“æœä¿å­˜åˆ° projects.json")

    // 4. ç”ŸæˆæŠ¥å‘Š
    ag.Chat(ctx, "è¯·æ ¹æ®ä¿å­˜çš„é¡¹ç›®ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä¸ª Markdown æ ¼å¼çš„é¡¹ç›®åˆ—è¡¨")
}
```

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•åªå¯ç”¨éƒ¨åˆ†å†…ç½®å·¥å…·ï¼Ÿ

åªåœ¨æ¨¡æ¿ä¸­å£°æ˜éœ€è¦çš„å·¥å…·ï¼š

```go
templateRegistry.Register(&types.AgentTemplateDefinition{
    ID:    "file-only-assistant",
    Tools: []interface{}{
        "fs_read",   // åªå¯ç”¨æ–‡ä»¶è¯»å–
        "fs_write",  // åªå¯ç”¨æ–‡ä»¶å†™å…¥
    },
})
```

### Q: å·¥å…·è°ƒç”¨ä¼šè®¡å…¥ Token ä½¿ç”¨å—ï¼Ÿ

æ˜¯çš„ã€‚å·¥å…·è°ƒç”¨çš„è¾“å…¥å’Œè¾“å‡ºéƒ½ä¼šè®¡å…¥ Token ä½¿ç”¨ã€‚å»ºè®®ï¼š
- è¯»å–å¤§æ–‡ä»¶æ—¶ä½¿ç”¨ offset å’Œ limit
- é¿å…é¢‘ç¹è°ƒç”¨åŒä¸€å·¥å…·
- ä½¿ç”¨å·¥å…·ç¼“å­˜ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

### Q: å¦‚ä½•é™åˆ¶æ–‡ä»¶è®¿é—®èŒƒå›´ï¼Ÿ

é€šè¿‡æ²™ç®±é…ç½®é™åˆ¶å·¥ä½œç›®å½•ï¼š

```go
config := &types.AgentConfig{
    Sandbox: &types.SandboxConfig{
        Kind:    types.SandboxKindLocal,
        WorkDir: "./restricted-workspace",  // åªèƒ½è®¿é—®è¿™ä¸ªç›®å½•
    },
}
```

### Q: å¯ä»¥ç¦ç”¨æŸäº›å±é™©å‘½ä»¤å—ï¼Ÿ

å¯ä»¥ã€‚é€šè¿‡æ²™ç®±é…ç½®ï¼š

```go
config := &types.SandboxConfig{
    Kind:    types.SandboxKindLocal,
    WorkDir: "./workspace",
    BlockedCommands: []string{
        "rm -rf",
        "dd",
        "mkfs",
    },
}
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [å·¥å…·ç³»ç»Ÿæ¦‚è§ˆ](/examples/tools) - å·¥å…·ç³»ç»Ÿæ¶æ„
- [MCP å·¥å…·](/examples/tools/mcp) - é›†æˆ MCP åè®®
- [è‡ªå®šä¹‰å·¥å…·](/examples/tools/custom) - åˆ›å»ºè‡ªå®šä¹‰å·¥å…·
- [Sandbox é…ç½®](/core-concepts/sandbox) - æ²™ç®±è¯¦ç»†é…ç½®
